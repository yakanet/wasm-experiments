import{S as Lt,i as At,s as It,k as c,q as p,a as A,l as u,m as h,r as m,h as r,c as I,p as E,n as D,b as ge,F as t,H as ke,I as ve,J as Pt,A as xe,K as Tt,L as Ut,M as De,u as et,e as gt,N as Ht,O as Nt,P as Ot,Q as jt}from"../../chunks/index-aaceca5f.js";function Ct(l){const e=l-1;return e*e*e+1}function wt(l,{delay:e=0,duration:s=400,easing:n=Ct,x:_=0,y:v=0,opacity:d=0}={}){const i=getComputedStyle(l),a=+i.opacity,o=i.transform==="none"?"":i.transform,k=a*(1-d);return{delay:e,duration:s,easing:n,css:(C,R)=>`
			transform: ${o} translate(${(1-C)*_}px, ${(1-C)*v}px);
			opacity: ${a-k*R}`}}var L=(l=>(l[l.PUSH=0]="PUSH",l[l.ADD=1]="ADD",l[l.DISPLAY=2]="DISPLAY",l))(L||{});const U={[0]:"POUSSE",[1]:"SOMME",[2]:"AFFICHE"},zt=Object.fromEntries(Object.entries(U).map(([l,e])=>[e,~~l]));function Et(l,e,s){const n=l.slice();return n[12]=e[s],n}function bt(l,e,s){const n=l.slice();return n[15]=e[s].id,n[16]=e[s].op,n[17]=e[s].operand,n[18]=e[s].label,n}function kt(l){let e=l[6](l[17],l[3])+"",s;return{c(){s=p(e)},l(n){s=m(n,e)},m(n,_){ge(n,s,_)},p(n,_){_&10&&e!==(e=n[6](n[17],n[3])+"")&&et(s,e)},d(n){n&&r(s)}}}function Dt(l){let e,s=l[6](l[16],l[3])+"",n,_,v,d,i=l[17]!==void 0&&kt(l);return{c(){e=c("code"),n=p(s),_=A(),i&&i.c(),v=A(),this.h()},l(a){e=u(a,"CODE",{title:!0,class:!0});var o=h(e);n=m(o,s),_=I(o),i&&i.l(o),v=I(o),o.forEach(r),this.h()},h(){var a;D(e,"title",d=`${l[18]} ${(a=l[17])!=null?a:""}`),D(e,"class","svelte-1jl5zhu"),De(e,"fullline",l[2]),De(e,"highlighted",l[0]===l[15])},m(a,o){ge(a,e,o),t(e,n),t(e,_),i&&i.m(e,null),t(e,v)},p(a,o){var k;o&10&&s!==(s=a[6](a[16],a[3])+"")&&et(n,s),a[17]!==void 0?i?i.p(a,o):(i=kt(a),i.c(),i.m(e,v)):i&&(i.d(1),i=null),o&2&&d!==(d=`${a[18]} ${(k=a[17])!=null?k:""}`)&&D(e,"title",d),o&4&&De(e,"fullline",a[2]),o&3&&De(e,"highlighted",a[0]===a[15])},d(a){a&&r(e),i&&i.d()}}}function yt(l){var d,i;let e=[],s=new Map,n,_=(i=(d=l[1].at(l[0]-1))==null?void 0:d.stack)!=null?i:[];const v=a=>a[12];for(let a=0;a<_.length;a+=1){let o=Et(l,_,a),k=v(o);s.set(k,e[a]=St(k,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=gt()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);n=gt()},m(a,o){for(let k=0;k<e.length;k+=1)e[k].m(a,o);ge(a,n,o)},p(a,o){var k,C;o&3&&(_=(C=(k=a[1].at(a[0]-1))==null?void 0:k.stack)!=null?C:[],e=Ht(e,o,v,1,a,_,s,n.parentNode,jt,St,n,Et))},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&r(n)}}}function St(l,e){let s,n=e[12]+"",_,v,d;return{key:l,first:null,c(){s=c("li"),_=p(n),v=A(),this.h()},l(i){s=u(i,"LI",{});var a=h(s);_=m(a,n),v=I(a),a.forEach(r),this.h()},h(){this.first=s},m(i,a){ge(i,s,a),t(s,_),t(s,v)},p(i,a){e=i,a&3&&n!==(n=e[12]+"")&&et(_,n)},i(i){i&&(d||Nt(()=>{d=Ot(s,wt,{y:-20}),d.start()}))},o:xe,d(i){i&&r(s)}}}function Ft(l){let e,s,n,_,v,d,i,a,o=U[L.PUSH]+"",k,C,R=l[6](L.PUSH,!0)+"",ae,se,H,N,y,Y,ne=U[L.ADD]+"",w,V,tt=l[6](L.ADD,!0)+"",ye,Se,ie,Pe,B,oe,lt=U[L.DISPLAY]+"",Le,Ae,at=l[6](L.DISPLAY,!0)+"",Ie,Te,re,Ue,He,M,de,Ne,Oe,$,je,ce,X,Ce,we,O,ue,ze,Fe,T,Me,q,W,J,qe,Ye,Z,K,$e,Ve,G,Be,j,Ee,Ge,z,fe,Je,Ke,F,Qe,st,x=l[1],S=[];for(let f=0;f<x.length;f+=1)S[f]=Dt(bt(l,x,f));let P=l[0]>0&&yt(l);return{c(){e=c("main"),s=c("fieldset"),n=c("legend"),_=p("Machine Virtuelle"),v=A(),d=c("dl"),i=c("dt"),a=c("code"),k=p(o),C=p(" (OP "),ae=p(R),se=p(`)
            `),H=c("dd"),N=p("Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),y=c("dt"),Y=c("code"),w=p(ne),V=p(" (OP "),ye=p(tt),Se=p(`)
            `),ie=c("dd"),Pe=p(`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),B=c("dt"),oe=c("code"),Le=p(lt),Ae=p(" (OP "),Ie=p(at),Te=p(`)
            `),re=c("dd"),Ue=p("Prend le nombre qui est sur la stack et l'affiche"),He=A(),M=c("fieldset"),de=c("legend"),Ne=p("Source (Langage Imaginaire)"),Oe=A(),$=c("textarea"),je=A(),ce=c("div"),X=c("button"),Ce=p("Compile"),we=A(),O=c("fieldset"),ue=c("legend"),ze=p("Assembly"),Fe=A(),T=c("div");for(let f=0;f<S.length;f+=1)S[f].c();Me=A(),q=c("div"),W=c("label"),J=c("input"),qe=p(`
                Hex`),Ye=A(),Z=c("label"),K=c("input"),$e=p(`
                Format`),Ve=A(),G=c("label"),Be=p(`Position
                `),j=c("input"),Ge=A(),z=c("fieldset"),fe=c("legend"),Je=p("Stack"),Ke=A(),F=c("ul"),P&&P.c(),this.h()},l(f){e=u(f,"MAIN",{class:!0});var g=h(e);s=u(g,"FIELDSET",{class:!0});var b=h(s);n=u(b,"LEGEND",{});var he=h(n);_=m(he,"Machine Virtuelle"),he.forEach(r),v=I(b),d=u(b,"DL",{style:!0,class:!0});var Q=h(d);i=u(Q,"DT",{});var _e=h(i);a=u(_e,"CODE",{});var nt=h(a);k=m(nt,o),nt.forEach(r),C=m(_e," (OP "),ae=m(_e,R),se=m(_e,`)
            `),_e.forEach(r),H=u(Q,"DD",{});var it=h(H);N=m(it,"Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),it.forEach(r),y=u(Q,"DT",{});var pe=h(y);Y=u(pe,"CODE",{});var ot=h(Y);w=m(ot,ne),ot.forEach(r),V=m(pe," (OP "),ye=m(pe,tt),Se=m(pe,`)
            `),pe.forEach(r),ie=u(Q,"DD",{});var rt=h(ie);Pe=m(rt,`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),rt.forEach(r),B=u(Q,"DT",{});var me=h(B);oe=u(me,"CODE",{});var dt=h(oe);Le=m(dt,lt),dt.forEach(r),Ae=m(me," (OP "),Ie=m(me,at),Te=m(me,`)
            `),me.forEach(r),re=u(Q,"DD",{});var ct=h(re);Ue=m(ct,"Prend le nombre qui est sur la stack et l'affiche"),ct.forEach(r),Q.forEach(r),b.forEach(r),He=I(g),M=u(g,"FIELDSET",{class:!0});var ee=h(M);de=u(ee,"LEGEND",{});var ut=h(de);Ne=m(ut,"Source (Langage Imaginaire)"),ut.forEach(r),Oe=I(ee),$=u(ee,"TEXTAREA",{"aria-label":!0,class:!0}),h($).forEach(r),je=I(ee),ce=u(ee,"DIV",{});var ft=h(ce);X=u(ft,"BUTTON",{});var ht=h(X);Ce=m(ht,"Compile"),ht.forEach(r),ft.forEach(r),ee.forEach(r),we=I(g),O=u(g,"FIELDSET",{class:!0,style:!0});var te=h(O);ue=u(te,"LEGEND",{});var _t=h(ue);ze=m(_t,"Assembly"),_t.forEach(r),Fe=I(te),T=u(te,"DIV",{style:!0});var pt=h(T);for(let Ze=0;Ze<S.length;Ze+=1)S[Ze].l(pt);pt.forEach(r),Me=I(te),q=u(te,"DIV",{style:!0});var le=h(q);W=u(le,"LABEL",{});var Re=h(W);J=u(Re,"INPUT",{type:!0}),qe=m(Re,`
                Hex`),Re.forEach(r),Ye=I(le),Z=u(le,"LABEL",{});var Xe=h(Z);K=u(Xe,"INPUT",{type:!0}),$e=m(Xe,`
                Format`),Xe.forEach(r),Ve=I(le),G=u(le,"LABEL",{style:!0});var We=h(G);Be=m(We,`Position
                `),j=u(We,"INPUT",{style:!0,type:!0,min:!0,max:!0}),We.forEach(r),le.forEach(r),te.forEach(r),Ge=I(g),z=u(g,"FIELDSET",{class:!0,style:!0});var be=h(z);fe=u(be,"LEGEND",{});var mt=h(fe);Je=m(mt,"Stack"),mt.forEach(r),Ke=I(be),F=u(be,"UL",{style:!0,class:!0});var vt=h(F);P&&P.l(vt),vt.forEach(r),be.forEach(r),g.forEach(r),this.h()},h(){E(d,"display","flex"),E(d,"flex-direction","column"),E(d,"gap","5px"),D(d,"class","svelte-1jl5zhu"),D(s,"class","grammar svelte-1jl5zhu"),D($,"aria-label","Source code"),D($,"class","svelte-1jl5zhu"),D(M,"class","source svelte-1jl5zhu"),E(T,"display","flex"),E(T,"flex-wrap","wrap"),E(T,"align-content","baseline"),E(T,"gap",l[2]?"0":"5px",!1),E(T,"flex-direction",l[2]?"column":"row",!1),D(J,"type","checkbox"),D(K,"type","checkbox"),E(j,"text-align","right"),D(j,"type","number"),D(j,"min","-1"),D(j,"max",Ee=l[1].length),E(G,"flex","1"),E(G,"text-align","right"),E(q,"display","flex"),D(O,"class","assembly svelte-1jl5zhu"),E(O,"visibility",l[1].length?"initial":"hidden"),E(F,"display","flex"),E(F,"position","absolute"),E(F,"list-style","none"),E(F,"flex-direction","column-reverse"),D(F,"class","svelte-1jl5zhu"),D(z,"class","stack svelte-1jl5zhu"),E(z,"overflow","hidden"),E(z,"visibility",l[1].length?"initial":"hidden",!1),D(e,"class","svelte-1jl5zhu")},m(f,g){ge(f,e,g),t(e,s),t(s,n),t(n,_),t(s,v),t(s,d),t(d,i),t(i,a),t(a,k),t(i,C),t(i,ae),t(i,se),t(d,H),t(H,N),t(d,y),t(y,Y),t(Y,w),t(y,V),t(y,ye),t(y,Se),t(d,ie),t(ie,Pe),t(d,B),t(B,oe),t(oe,Le),t(B,Ae),t(B,Ie),t(B,Te),t(d,re),t(re,Ue),t(e,He),t(e,M),t(M,de),t(de,Ne),t(M,Oe),t(M,$),ke($,l[4]),t(M,je),t(M,ce),t(ce,X),t(X,Ce),t(e,we),t(e,O),t(O,ue),t(ue,ze),t(O,Fe),t(O,T);for(let b=0;b<S.length;b+=1)S[b].m(T,null);t(O,Me),t(O,q),t(q,W),t(W,J),J.checked=l[3],t(W,qe),t(q,Ye),t(q,Z),t(Z,K),K.checked=l[2],t(Z,$e),t(q,Ve),t(q,G),t(G,Be),t(G,j),ke(j,l[0]),t(e,Ge),t(e,z),t(z,fe),t(fe,Je),t(z,Ke),t(z,F),P&&P.m(F,null),Qe||(st=[ve($,"input",l[7]),ve(X,"click",l[8]),ve(J,"change",l[9]),ve(K,"change",l[10]),ve(j,"input",l[11])],Qe=!0)},p(f,[g]){if(g&16&&ke($,f[4]),g&79){x=f[1];let b;for(b=0;b<x.length;b+=1){const he=bt(f,x,b);S[b]?S[b].p(he,g):(S[b]=Dt(he),S[b].c(),S[b].m(T,null))}for(;b<S.length;b+=1)S[b].d(1);S.length=x.length}g&4&&E(T,"gap",f[2]?"0":"5px",!1),g&4&&E(T,"flex-direction",f[2]?"column":"row",!1),g&8&&(J.checked=f[3]),g&4&&(K.checked=f[2]),g&2&&Ee!==(Ee=f[1].length)&&D(j,"max",Ee),g&1&&Pt(j.value)!==f[0]&&ke(j,f[0]),g&2&&E(O,"visibility",f[1].length?"initial":"hidden"),f[0]>0?P?P.p(f,g):(P=yt(f),P.c(),P.m(F,null)):P&&(P.d(1),P=null),g&2&&E(z,"visibility",f[1].length?"initial":"hidden",!1)},i:xe,o:xe,d(f){f&&r(e),Tt(S,f),P&&P.d(),Qe=!1,Ut(st)}}}function Mt(l,e,s){let n=!1,_=!1,v=-1,d=`${U[L.PUSH]} 12
${U[L.PUSH]} 23
${U[L.PUSH]} 48
${U[L.ADD]}
${U[L.ADD]}
${U[L.DISPLAY]}`,i=[];function*a(H){s(0,v=-1);const N=H.split(/\s+/g)[Symbol.iterator](),y=[];let Y=0;for(;;){const ne=N.next();if(ne.done)break;const w=zt[ne.value];switch(w){case L.ADD:{y.push(y.pop()+y.pop()&255),yield{id:Y++,op:w,label:U[w],stack:[...y]};break}case L.DISPLAY:{const V=y.pop();yield{id:Y++,op:w,label:U[w],stack:[...y],execute:()=>alert(V)};break}case L.PUSH:{const V=parseInt(N.next().value)&255;y.push(V),yield{id:Y++,op:w,label:U[w],operand:V,stack:[...y]};break}}}}const o=(H,N)=>H.toString(N?16:2).padStart(N?2:8,"0");function k(){d=this.value,s(4,d)}const C=()=>{s(0,v=-1),s(1,i=[...a(d)])};function R(){_=this.checked,s(3,_)}function ae(){n=this.checked,s(2,n)}function se(){v=Pt(this.value),s(0,v)}return l.$$.update=()=>{var H;if(l.$$.dirty&3){const N=(H=i[v-1])==null?void 0:H.execute;N&&setTimeout(N,1)}},[v,i,n,_,d,a,o,k,C,R,ae,se]}class Yt extends Lt{constructor(e){super(),At(this,e,Mt,Ft,It,{})}}export{Yt as default};

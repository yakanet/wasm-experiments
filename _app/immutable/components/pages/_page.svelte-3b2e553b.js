import{S as Lt,i as At,s as It,k as d,q as p,a as A,l as f,m as h,r as b,h as r,c as I,p as g,n as D,b as ve,F as t,H as ke,I as me,J as Pt,A as xe,K as Tt,L as Ut,M as De,u as et,e as vt,N as Ht,O as Nt,P as Ot,Q as Ct}from"../../chunks/index-aaceca5f.js";function wt(l){const e=l-1;return e*e*e+1}function Ft(l,{delay:e=0,duration:s=400,easing:n=wt,x:_=0,y:m=0,opacity:c=0}={}){const i=getComputedStyle(l),a=+i.opacity,o=i.transform==="none"?"":i.transform,k=a*(1-c);return{delay:e,duration:s,easing:n,css:(w,X)=>`
			transform: ${o} translate(${(1-w)*_}px, ${(1-w)*m}px);
			opacity: ${a-k*X}`}}var L=(l=>(l[l.PUSH=0]="PUSH",l[l.ADD=1]="ADD",l[l.DISPLAY=2]="DISPLAY",l))(L||{});const U={[0]:"POUSSE",[1]:"SOMME",[2]:"AFFICHE"},Mt=Object.fromEntries(Object.entries(U).map(([l,e])=>[e,~~l]));function gt(l,e,s){const n=l.slice();return n[12]=e[s],n}function Et(l,e,s){const n=l.slice();return n[15]=e[s].id,n[16]=e[s].op,n[17]=e[s].operand,n[18]=e[s].label,n}function kt(l){let e=l[6](l[17],l[3])+"",s;return{c(){s=p(e)},l(n){s=b(n,e)},m(n,_){ve(n,s,_)},p(n,_){_&10&&e!==(e=n[6](n[17],n[3])+"")&&et(s,e)},d(n){n&&r(s)}}}function Dt(l){let e,s=l[6](l[16],l[3])+"",n,_,m,c,i=l[17]!==void 0&&kt(l);return{c(){e=d("code"),n=p(s),_=A(),i&&i.c(),m=A(),this.h()},l(a){e=f(a,"CODE",{title:!0,class:!0});var o=h(e);n=b(o,s),_=I(o),i&&i.l(o),m=I(o),o.forEach(r),this.h()},h(){var a;D(e,"title",c=`${l[18]} ${(a=l[17])!=null?a:""}`),D(e,"class","svelte-7sb1bc"),De(e,"fullline",l[2]),De(e,"highlighted",l[0]===l[15])},m(a,o){ve(a,e,o),t(e,n),t(e,_),i&&i.m(e,null),t(e,m)},p(a,o){var k;o&10&&s!==(s=a[6](a[16],a[3])+"")&&et(n,s),a[17]!==void 0?i?i.p(a,o):(i=kt(a),i.c(),i.m(e,m)):i&&(i.d(1),i=null),o&2&&c!==(c=`${a[18]} ${(k=a[17])!=null?k:""}`)&&D(e,"title",c),o&4&&De(e,"fullline",a[2]),o&3&&De(e,"highlighted",a[0]===a[15])},d(a){a&&r(e),i&&i.d()}}}function yt(l){var c,i;let e=[],s=new Map,n,_=(i=(c=l[1].at(l[0]-1))==null?void 0:c.stack)!=null?i:[];const m=a=>a[12];for(let a=0;a<_.length;a+=1){let o=gt(l,_,a),k=m(o);s.set(k,e[a]=St(k,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=vt()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);n=vt()},m(a,o){for(let k=0;k<e.length;k+=1)e[k].m(a,o);ve(a,n,o)},p(a,o){var k,w;o&3&&(_=(w=(k=a[1].at(a[0]-1))==null?void 0:k.stack)!=null?w:[],e=Ht(e,o,m,1,a,_,s,n.parentNode,Ct,St,n,gt))},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&r(n)}}}function St(l,e){let s,n=e[12]+"",_,m,c;return{key:l,first:null,c(){s=d("li"),_=p(n),m=A(),this.h()},l(i){s=f(i,"LI",{});var a=h(s);_=b(a,n),m=I(a),a.forEach(r),this.h()},h(){this.first=s},m(i,a){ve(i,s,a),t(s,_),t(s,m)},p(i,a){e=i,a&3&&n!==(n=e[12]+"")&&et(_,n)},i(i){i&&(c||Nt(()=>{c=Ot(s,Ft,{y:-20}),c.start()}))},o:xe,d(i){i&&r(s)}}}function qt(l){let e,s,n,_,m,c,i,a,o=U[L.PUSH]+"",k,w,X=l[6](L.PUSH,!0)+"",ae,se,H,N,y,V,ne=U[L.ADD]+"",F,G,tt=l[6](L.ADD,!0)+"",ye,Se,ie,Pe,j,oe,lt=U[L.DISPLAY]+"",Le,Ae,at=l[6](L.DISPLAY,!0)+"",Ie,Te,re,Ue,He,Y,ce,Ne,Oe,B,Ce,de,z,we,Fe,O,fe,Me,qe,T,Ye,$,W,K,$e,Ve,Z,Q,Be,Ge,J,je,C,ge,Je,M,ue,Ke,Qe,q,Re,st,x=l[1],S=[];for(let u=0;u<x.length;u+=1)S[u]=Dt(Et(l,x,u));let P=l[0]>0&&yt(l);return{c(){e=d("main"),s=d("fieldset"),n=d("legend"),_=p("Machine Virtuelle"),m=A(),c=d("dl"),i=d("dt"),a=d("code"),k=p(o),w=p(" (OP "),ae=p(X),se=p(`)
            `),H=d("dd"),N=p("Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),y=d("dt"),V=d("code"),F=p(ne),G=p(" (OP "),ye=p(tt),Se=p(`)
            `),ie=d("dd"),Pe=p(`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),j=d("dt"),oe=d("code"),Le=p(lt),Ae=p(" (OP "),Ie=p(at),Te=p(`)
            `),re=d("dd"),Ue=p("Prend le nombre qui est sur la stack et l'affiche"),He=A(),Y=d("fieldset"),ce=d("legend"),Ne=p("Source (Langage Imaginaire)"),Oe=A(),B=d("textarea"),Ce=A(),de=d("div"),z=d("button"),we=p("Compile"),Fe=A(),O=d("fieldset"),fe=d("legend"),Me=p("Assembly"),qe=A(),T=d("div");for(let u=0;u<S.length;u+=1)S[u].c();Ye=A(),$=d("div"),W=d("label"),K=d("input"),$e=p(`
                Hex`),Ve=A(),Z=d("label"),Q=d("input"),Be=p(`
                Format`),Ge=A(),J=d("label"),je=p(`Position
                `),C=d("input"),Je=A(),M=d("fieldset"),ue=d("legend"),Ke=p("Stack"),Qe=A(),q=d("ul"),P&&P.c(),this.h()},l(u){e=f(u,"MAIN",{class:!0});var v=h(e);s=f(v,"FIELDSET",{class:!0});var E=h(s);n=f(E,"LEGEND",{});var he=h(n);_=b(he,"Machine Virtuelle"),he.forEach(r),m=I(E),c=f(E,"DL",{style:!0,class:!0});var R=h(c);i=f(R,"DT",{});var _e=h(i);a=f(_e,"CODE",{});var nt=h(a);k=b(nt,o),nt.forEach(r),w=b(_e," (OP "),ae=b(_e,X),se=b(_e,`)
            `),_e.forEach(r),H=f(R,"DD",{});var it=h(H);N=b(it,"Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),it.forEach(r),y=f(R,"DT",{});var pe=h(y);V=f(pe,"CODE",{});var ot=h(V);F=b(ot,ne),ot.forEach(r),G=b(pe," (OP "),ye=b(pe,tt),Se=b(pe,`)
            `),pe.forEach(r),ie=f(R,"DD",{});var rt=h(ie);Pe=b(rt,`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),rt.forEach(r),j=f(R,"DT",{});var be=h(j);oe=f(be,"CODE",{});var ct=h(oe);Le=b(ct,lt),ct.forEach(r),Ae=b(be," (OP "),Ie=b(be,at),Te=b(be,`)
            `),be.forEach(r),re=f(R,"DD",{});var dt=h(re);Ue=b(dt,"Prend le nombre qui est sur la stack et l'affiche"),dt.forEach(r),R.forEach(r),E.forEach(r),He=I(v),Y=f(v,"FIELDSET",{class:!0});var ee=h(Y);ce=f(ee,"LEGEND",{});var ft=h(ce);Ne=b(ft,"Source (Langage Imaginaire)"),ft.forEach(r),Oe=I(ee),B=f(ee,"TEXTAREA",{"aria-label":!0,class:!0}),h(B).forEach(r),Ce=I(ee),de=f(ee,"DIV",{});var ut=h(de);z=f(ut,"BUTTON",{});var ht=h(z);we=b(ht,"Compile"),ht.forEach(r),ut.forEach(r),ee.forEach(r),Fe=I(v),O=f(v,"FIELDSET",{class:!0,style:!0});var te=h(O);fe=f(te,"LEGEND",{});var _t=h(fe);Me=b(_t,"Assembly"),_t.forEach(r),qe=I(te),T=f(te,"DIV",{style:!0});var pt=h(T);for(let Ze=0;Ze<S.length;Ze+=1)S[Ze].l(pt);pt.forEach(r),Ye=I(te),$=f(te,"DIV",{style:!0});var le=h($);W=f(le,"LABEL",{});var Xe=h(W);K=f(Xe,"INPUT",{type:!0}),$e=b(Xe,`
                Hex`),Xe.forEach(r),Ve=I(le),Z=f(le,"LABEL",{});var ze=h(Z);Q=f(ze,"INPUT",{type:!0}),Be=b(ze,`
                Format`),ze.forEach(r),Ge=I(le),J=f(le,"LABEL",{style:!0});var We=h(J);je=b(We,`Position
                `),C=f(We,"INPUT",{style:!0,type:!0,min:!0,max:!0}),We.forEach(r),le.forEach(r),te.forEach(r),Je=I(v),M=f(v,"FIELDSET",{class:!0,style:!0});var Ee=h(M);ue=f(Ee,"LEGEND",{});var bt=h(ue);Ke=b(bt,"Stack"),bt.forEach(r),Qe=I(Ee),q=f(Ee,"UL",{style:!0,class:!0});var mt=h(q);P&&P.l(mt),mt.forEach(r),Ee.forEach(r),v.forEach(r),this.h()},h(){g(c,"display","flex"),g(c,"flex-direction","column"),g(c,"gap","5px"),D(c,"class","svelte-7sb1bc"),D(s,"class","grammar svelte-7sb1bc"),D(B,"aria-label","Source code"),D(B,"class","svelte-7sb1bc"),D(Y,"class","source svelte-7sb1bc"),g(T,"display","flex"),g(T,"flex-wrap","wrap"),g(T,"align-content","baseline"),g(T,"gap",l[2]?"0":"5px",!1),g(T,"flex-direction",l[2]?"column":"row",!1),D(K,"type","checkbox"),D(Q,"type","checkbox"),g(C,"text-align","right"),D(C,"type","number"),D(C,"min","-1"),D(C,"max",ge=l[1].length),g(J,"flex","1"),g(J,"text-align","right"),g($,"display","flex"),D(O,"class","assembly svelte-7sb1bc"),g(O,"visibility",l[1].length?"initial":"hidden"),g(q,"display","flex"),g(q,"position","absolute"),g(q,"list-style","none"),g(q,"flex-direction","column-reverse"),D(q,"class","svelte-7sb1bc"),D(M,"class","stack svelte-7sb1bc"),g(M,"overflow","hidden"),g(M,"visibility",l[1].length?"initial":"hidden",!1),D(e,"class","svelte-7sb1bc")},m(u,v){ve(u,e,v),t(e,s),t(s,n),t(n,_),t(s,m),t(s,c),t(c,i),t(i,a),t(a,k),t(i,w),t(i,ae),t(i,se),t(c,H),t(H,N),t(c,y),t(y,V),t(V,F),t(y,G),t(y,ye),t(y,Se),t(c,ie),t(ie,Pe),t(c,j),t(j,oe),t(oe,Le),t(j,Ae),t(j,Ie),t(j,Te),t(c,re),t(re,Ue),t(e,He),t(e,Y),t(Y,ce),t(ce,Ne),t(Y,Oe),t(Y,B),ke(B,l[4]),t(Y,Ce),t(Y,de),t(de,z),t(z,we),t(e,Fe),t(e,O),t(O,fe),t(fe,Me),t(O,qe),t(O,T);for(let E=0;E<S.length;E+=1)S[E].m(T,null);t(O,Ye),t(O,$),t($,W),t(W,K),K.checked=l[3],t(W,$e),t($,Ve),t($,Z),t(Z,Q),Q.checked=l[2],t(Z,Be),t($,Ge),t($,J),t(J,je),t(J,C),ke(C,l[0]),t(e,Je),t(e,M),t(M,ue),t(ue,Ke),t(M,Qe),t(M,q),P&&P.m(q,null),Re||(st=[me(B,"input",l[7]),me(z,"click",l[8]),me(K,"change",l[9]),me(Q,"change",l[10]),me(C,"input",l[11])],Re=!0)},p(u,[v]){if(v&16&&ke(B,u[4]),v&79){x=u[1];let E;for(E=0;E<x.length;E+=1){const he=Et(u,x,E);S[E]?S[E].p(he,v):(S[E]=Dt(he),S[E].c(),S[E].m(T,null))}for(;E<S.length;E+=1)S[E].d(1);S.length=x.length}v&4&&g(T,"gap",u[2]?"0":"5px",!1),v&4&&g(T,"flex-direction",u[2]?"column":"row",!1),v&8&&(K.checked=u[3]),v&4&&(Q.checked=u[2]),v&2&&ge!==(ge=u[1].length)&&D(C,"max",ge),v&1&&Pt(C.value)!==u[0]&&ke(C,u[0]),v&2&&g(O,"visibility",u[1].length?"initial":"hidden"),u[0]>0?P?P.p(u,v):(P=yt(u),P.c(),P.m(q,null)):P&&(P.d(1),P=null),v&2&&g(M,"visibility",u[1].length?"initial":"hidden",!1)},i:xe,o:xe,d(u){u&&r(e),Tt(S,u),P&&P.d(),Re=!1,Ut(st)}}}function Yt(l,e,s){let n=!1,_=!1,m=-1,c=`${U[L.PUSH]} 12
${U[L.PUSH]} 23
${U[L.PUSH]} 48
${U[L.ADD]}
${U[L.ADD]}
${U[L.DISPLAY]}`,i=[];function*a(H){s(0,m=-1);const N=H.split(/\s+/g)[Symbol.iterator](),y=[];let V=0;for(;;){const ne=N.next();if(ne.done)break;const F=Mt[ne.value];switch(F){case L.ADD:{y.push(y.pop()+y.pop()&255),yield{id:V++,op:F,label:U[F],stack:[...y]};break}case L.DISPLAY:{const G=y.pop();yield{id:V++,op:F,label:U[F],stack:[...y],execute:()=>alert(G)};break}case L.PUSH:{const G=parseInt(N.next().value)&255;y.push(G),yield{id:V++,op:F,label:U[F],operand:G,stack:[...y]};break}}}}const o=(H,N)=>H.toString(N?16:2).padStart(N?2:8,"0");function k(){c=this.value,s(4,c)}const w=()=>{s(0,m=-1),s(1,i=[...a(c)])};function X(){_=this.checked,s(3,_)}function ae(){n=this.checked,s(2,n)}function se(){m=Pt(this.value),s(0,m)}return l.$$.update=()=>{var H;if(l.$$.dirty&3){const N=(H=i[m-1])==null?void 0:H.execute;N&&setTimeout(N,1)}},[m,i,n,_,c,a,o,k,w,X,ae,se]}class Vt extends Lt{constructor(e){super(),At(this,e,Yt,qt,It,{})}}export{Vt as default};

import{S as Ft,i as Mt,s as Wt,k as c,q as v,a as I,l as u,m as h,r as g,h as i,c as L,n as P,p as k,b as Ee,F as t,H as De,I as ge,J as Ht,f as Se,t as rt,d as wt,K as $t,L as Vt,M as ye,u as it,e as Lt,g as Rt,N as Bt,O as Gt,P as Tt,Q as jt}from"../../chunks/index-9af905c0.js";function Jt(l){const e=l-1;return e*e*e+1}function Pt(l,{delay:e=0,duration:a=400,easing:s=Jt,x:p=0,y:m=0,opacity:_=0}={}){const r=getComputedStyle(l),o=+r.opacity,n=r.transform==="none"?"":r.transform,d=o*(1-_);return{delay:e,duration:a,easing:s,css:(y,V)=>`
			transform: ${n} translate(${(1-y)*p}px, ${(1-y)*m}px);
			opacity: ${o-d*V}`}}var T=(l=>(l[l.PUSH=0]="PUSH",l[l.ADD=1]="ADD",l[l.WRITE=2]="WRITE",l))(T||{});const q={[0]:"POUSSE",[1]:"SOMME",[2]:"ECRIT"},zt=Object.fromEntries(Object.entries(q).map(([l,e])=>[e,~~l]));console.log({reverseSyntax:zt});function At(l,e,a){const s=l.slice();return s[12]=e[a],s}function Ut(l,e,a){const s=l.slice();return s[15]=e[a].id,s[16]=e[a].op,s[17]=e[a].operand,s[18]=e[a].label,s}function qt(l){let e=l[6](l[17],l[3])+"",a;return{c(){a=v(e)},l(s){a=g(s,e)},m(s,p){Ee(s,a,p)},p(s,p){p&10&&e!==(e=s[6](s[17],s[3])+"")&&it(a,e)},d(s){s&&i(a)}}}function Nt(l){let e,a=l[6](l[16],l[3])+"",s,p,m,_,r=l[17]!==void 0&&qt(l);return{c(){e=c("code"),s=v(a),p=I(),r&&r.c(),m=I(),this.h()},l(o){e=u(o,"CODE",{title:!0,class:!0});var n=h(e);s=g(n,a),p=L(n),r&&r.l(n),m=L(n),n.forEach(i),this.h()},h(){var o;P(e,"title",_=`${l[18]} ${(o=l[17])!=null?o:""}`),P(e,"class","svelte-3zoq3t"),ye(e,"fullline",l[2]),ye(e,"highlighted",l[0]===l[15])},m(o,n){Ee(o,e,n),t(e,s),t(e,p),r&&r.m(e,null),t(e,m)},p(o,n){var d;n&10&&a!==(a=o[6](o[16],o[3])+"")&&it(s,a),o[17]!==void 0?r?r.p(o,n):(r=qt(o),r.c(),r.m(e,m)):r&&(r.d(1),r=null),n&2&&_!==(_=`${o[18]} ${(d=o[17])!=null?d:""}`)&&P(e,"title",_),n&4&&ye(e,"fullline",o[2]),n&3&&ye(e,"highlighted",o[0]===o[15])},d(o){o&&i(e),r&&r.d()}}}function Ot(l){var r,o;let e=[],a=new Map,s,p,m=(o=(r=l[1].at(l[0]-1))==null?void 0:r.stack)!=null?o:[];const _=n=>n[12];for(let n=0;n<m.length;n+=1){let d=At(l,m,n),y=_(d);a.set(y,e[n]=Ct(y,d))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();s=Lt()},l(n){for(let d=0;d<e.length;d+=1)e[d].l(n);s=Lt()},m(n,d){for(let y=0;y<e.length;y+=1)e[y].m(n,d);Ee(n,s,d),p=!0},p(n,d){var y,V;d&3&&(m=(V=(y=n[1].at(n[0]-1))==null?void 0:y.stack)!=null?V:[],Rt(),e=Bt(e,d,_,1,n,m,a,s.parentNode,jt,Ct,s,At),wt())},i(n){if(!p){for(let d=0;d<m.length;d+=1)Se(e[d]);p=!0}},o(n){for(let d=0;d<e.length;d+=1)rt(e[d]);p=!1},d(n){for(let d=0;d<e.length;d+=1)e[d].d(n);n&&i(s)}}}function Ct(l,e){let a,s=e[12]+"",p,m,_,r;return{key:l,first:null,c(){a=c("li"),p=v(s),m=I(),this.h()},l(o){a=u(o,"LI",{});var n=h(a);p=g(n,s),m=L(n),n.forEach(i),this.h()},h(){this.first=a},m(o,n){Ee(o,a,n),t(a,p),t(a,m),r=!0},p(o,n){e=o,(!r||n&3)&&s!==(s=e[12]+"")&&it(p,s)},i(o){r||(o&&Gt(()=>{_||(_=Tt(a,Pt,{y:-20},!0)),_.run(1)}),r=!0)},o(o){o&&(_||(_=Tt(a,Pt,{y:-20},!1)),_.run(0)),r=!1},d(o){o&&i(a),o&&_&&_.end()}}}function Kt(l){let e,a,s,p,m,_,r,o,n=q[T.PUSH]+"",d,y,V=l[6](T.PUSH,!0)+"",se,oe,N,O,C,M,R,A,J=q[T.ADD]+"",Ie,Le,dt=l[6](T.ADD,!0)+"",Te,Pe,re,Ae,Ue,X,B,ie,ct=q[T.WRITE]+"",qe,Ne,ut=l[6](T.WRITE,!0)+"",Oe,Ce,de,He,we,W,ce,Re,ze,G,Fe,ue,Y,Me,We,H,fe,$e,Ve,U,Be,$,Z,K,Ge,je,x,Q,Je,Ke,j,Qe,w,be,Xe,z,he,Ye,Ze,F,ee,xe,ft,te=l[1],S=[];for(let f=0;f<te.length;f+=1)S[f]=Nt(Ut(l,te,f));let D=l[0]>0&&Ot(l);return{c(){e=c("main"),a=c("fieldset"),s=c("legend"),p=v("Machine Virtuelle"),m=I(),_=c("dl"),r=c("dt"),o=c("code"),d=v(n),y=v(" (OP "),se=v(V),oe=v(`)
            `),N=c("dd"),O=v("Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),C=I(),M=c("dl"),R=c("dt"),A=c("code"),Ie=v(J),Le=v(" (OP "),Te=v(dt),Pe=v(`)
            `),re=c("dd"),Ae=v(`Consomme les deux nombres sur la stack, les additionne, et
                pousse le r\xE9sultat sur la stack`),Ue=I(),X=c("dl"),B=c("dt"),ie=c("code"),qe=v(ct),Ne=v(" (OP "),Oe=v(ut),Ce=v(`)
            `),de=c("dd"),He=v(`Prend le nombre qui est sur la stack et \xE9crit dans la console le
                r\xE9sultat`),we=I(),W=c("fieldset"),ce=c("legend"),Re=v("Source (Langage Imaginaire)"),ze=I(),G=c("textarea"),Fe=I(),ue=c("div"),Y=c("button"),Me=v("Compile"),We=I(),H=c("fieldset"),fe=c("legend"),$e=v("Assembly"),Ve=I(),U=c("div");for(let f=0;f<S.length;f+=1)S[f].c();Be=I(),$=c("div"),Z=c("label"),K=c("input"),Ge=v(`
                Hex`),je=I(),x=c("label"),Q=c("input"),Je=v(`
                Format`),Ke=I(),j=c("label"),Qe=v(`Position
                `),w=c("input"),Xe=I(),z=c("fieldset"),he=c("legend"),Ye=v("Stack"),Ze=I(),F=c("ul"),D&&D.c(),this.h()},l(f){e=u(f,"MAIN",{class:!0});var b=h(e);a=u(b,"FIELDSET",{class:!0});var E=h(a);s=u(E,"LEGEND",{});var _e=h(s);p=g(_e,"Machine Virtuelle"),_e.forEach(i),m=L(E),_=u(E,"DL",{});var et=h(_);r=u(et,"DT",{});var pe=h(r);o=u(pe,"CODE",{});var ht=h(o);d=g(ht,n),ht.forEach(i),y=g(pe," (OP "),se=g(pe,V),oe=g(pe,`)
            `),pe.forEach(i),N=u(et,"DD",{});var _t=h(N);O=g(_t,"Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),_t.forEach(i),et.forEach(i),C=L(E),M=u(E,"DL",{});var tt=h(M);R=u(tt,"DT",{});var me=h(R);A=u(me,"CODE",{});var pt=h(A);Ie=g(pt,J),pt.forEach(i),Le=g(me," (OP "),Te=g(me,dt),Pe=g(me,`)
            `),me.forEach(i),re=u(tt,"DD",{});var mt=h(re);Ae=g(mt,`Consomme les deux nombres sur la stack, les additionne, et
                pousse le r\xE9sultat sur la stack`),mt.forEach(i),tt.forEach(i),Ue=L(E),X=u(E,"DL",{});var lt=h(X);B=u(lt,"DT",{});var ve=h(B);ie=u(ve,"CODE",{});var vt=h(ie);qe=g(vt,ct),vt.forEach(i),Ne=g(ve," (OP "),Oe=g(ve,ut),Ce=g(ve,`)
            `),ve.forEach(i),de=u(lt,"DD",{});var gt=h(de);He=g(gt,`Prend le nombre qui est sur la stack et \xE9crit dans la console le
                r\xE9sultat`),gt.forEach(i),lt.forEach(i),E.forEach(i),we=L(b),W=u(b,"FIELDSET",{class:!0});var le=h(W);ce=u(le,"LEGEND",{});var Et=h(ce);Re=g(Et,"Source (Langage Imaginaire)"),Et.forEach(i),ze=L(le),G=u(le,"TEXTAREA",{class:!0}),h(G).forEach(i),Fe=L(le),ue=u(le,"DIV",{});var bt=h(ue);Y=u(bt,"BUTTON",{});var kt=h(Y);Me=g(kt,"Compile"),kt.forEach(i),bt.forEach(i),le.forEach(i),We=L(b),H=u(b,"FIELDSET",{class:!0,style:!0});var ae=h(H);fe=u(ae,"LEGEND",{});var Dt=h(fe);$e=g(Dt,"Assembly"),Dt.forEach(i),Ve=L(ae),U=u(ae,"DIV",{style:!0});var yt=h(U);for(let ot=0;ot<S.length;ot+=1)S[ot].l(yt);yt.forEach(i),Be=L(ae),$=u(ae,"DIV",{style:!0});var ne=h($);Z=u(ne,"LABEL",{});var at=h(Z);K=u(at,"INPUT",{type:!0}),Ge=g(at,`
                Hex`),at.forEach(i),je=L(ne),x=u(ne,"LABEL",{});var nt=h(x);Q=u(nt,"INPUT",{type:!0}),Je=g(nt,`
                Format`),nt.forEach(i),Ke=L(ne),j=u(ne,"LABEL",{style:!0});var st=h(j);Qe=g(st,`Position
                `),w=u(st,"INPUT",{style:!0,type:!0,min:!0,max:!0}),st.forEach(i),ne.forEach(i),ae.forEach(i),Xe=L(b),z=u(b,"FIELDSET",{class:!0,style:!0});var ke=h(z);he=u(ke,"LEGEND",{});var St=h(he);Ye=g(St,"Stack"),St.forEach(i),Ze=L(ke),F=u(ke,"UL",{style:!0});var It=h(F);D&&D.l(It),It.forEach(i),ke.forEach(i),b.forEach(i),this.h()},h(){P(a,"class","grammar svelte-3zoq3t"),P(G,"class","svelte-3zoq3t"),P(W,"class","source svelte-3zoq3t"),k(U,"display","flex"),k(U,"flex-wrap","wrap"),k(U,"align-content","baseline"),k(U,"gap",l[2]?"0":"5px",!1),k(U,"flex-direction",l[2]?"column":"row",!1),P(K,"type","checkbox"),P(Q,"type","checkbox"),k(w,"text-align","right"),P(w,"type","number"),P(w,"min","-1"),P(w,"max",be=l[1].length),k(j,"flex","1"),k(j,"text-align","right"),k($,"display","flex"),P(H,"class","assembly svelte-3zoq3t"),k(H,"visibility",l[1].length?"initial":"hidden"),k(F,"display","flex"),k(F,"position","absolute"),k(F,"list-style","none"),k(F,"padding","0 "),k(F,"flex-direction","column-reverse"),P(z,"class","stack svelte-3zoq3t"),k(z,"overflow","hidden"),k(z,"visibility",l[1].length?"initial":"hidden",!1),P(e,"class","svelte-3zoq3t")},m(f,b){Ee(f,e,b),t(e,a),t(a,s),t(s,p),t(a,m),t(a,_),t(_,r),t(r,o),t(o,d),t(r,y),t(r,se),t(r,oe),t(_,N),t(N,O),t(a,C),t(a,M),t(M,R),t(R,A),t(A,Ie),t(R,Le),t(R,Te),t(R,Pe),t(M,re),t(re,Ae),t(a,Ue),t(a,X),t(X,B),t(B,ie),t(ie,qe),t(B,Ne),t(B,Oe),t(B,Ce),t(X,de),t(de,He),t(e,we),t(e,W),t(W,ce),t(ce,Re),t(W,ze),t(W,G),De(G,l[4]),t(W,Fe),t(W,ue),t(ue,Y),t(Y,Me),t(e,We),t(e,H),t(H,fe),t(fe,$e),t(H,Ve),t(H,U);for(let E=0;E<S.length;E+=1)S[E].m(U,null);t(H,Be),t(H,$),t($,Z),t(Z,K),K.checked=l[3],t(Z,Ge),t($,je),t($,x),t(x,Q),Q.checked=l[2],t(x,Je),t($,Ke),t($,j),t(j,Qe),t(j,w),De(w,l[0]),t(e,Xe),t(e,z),t(z,he),t(he,Ye),t(z,Ze),t(z,F),D&&D.m(F,null),ee=!0,xe||(ft=[ge(G,"input",l[7]),ge(Y,"click",l[8]),ge(K,"change",l[9]),ge(Q,"change",l[10]),ge(w,"input",l[11])],xe=!0)},p(f,[b]){if(b&16&&De(G,f[4]),b&79){te=f[1];let E;for(E=0;E<te.length;E+=1){const _e=Ut(f,te,E);S[E]?S[E].p(_e,b):(S[E]=Nt(_e),S[E].c(),S[E].m(U,null))}for(;E<S.length;E+=1)S[E].d(1);S.length=te.length}b&4&&k(U,"gap",f[2]?"0":"5px",!1),b&4&&k(U,"flex-direction",f[2]?"column":"row",!1),b&8&&(K.checked=f[3]),b&4&&(Q.checked=f[2]),(!ee||b&2&&be!==(be=f[1].length))&&P(w,"max",be),b&1&&Ht(w.value)!==f[0]&&De(w,f[0]),(!ee||b&2)&&k(H,"visibility",f[1].length?"initial":"hidden"),f[0]>0?D?(D.p(f,b),b&1&&Se(D,1)):(D=Ot(f),D.c(),Se(D,1),D.m(F,null)):D&&(Rt(),rt(D,1,1,()=>{D=null}),wt()),b&2&&k(z,"visibility",f[1].length?"initial":"hidden",!1)},i(f){ee||(Se(D),ee=!0)},o(f){rt(D),ee=!1},d(f){f&&i(e),$t(S,f),D&&D.d(),xe=!1,Vt(ft)}}}function Qt(l,e,a){let s=!1,p=!1,m=-1,_=`${q[T.PUSH]} 12
${q[T.PUSH]} 23
${q[T.PUSH]} 48
${q[T.ADD]}
${q[T.ADD]}
${q[T.WRITE]}`,r=[];function*o(N){a(0,m=-1);const O=N.split(/\s+/g)[Symbol.iterator](),C=[];let M=0;for(;;){const R=O.next();if(R.done)break;const A=~~zt[R.value];switch(A){case T.ADD:{C.push(C.pop()+C.pop()),yield{id:M++,op:A,label:q[A],stack:[...C]};break}case T.WRITE:{const J=C.pop();yield{id:M++,op:A,label:q[A],stack:[...C],execute:()=>alert(J)};break}case T.PUSH:{const J=parseInt(O.next().value)&255;C.push(J),yield{id:M++,op:A,label:q[A],operand:J,stack:[...C]};break}}}}const n=(N,O)=>N.toString(O?16:2).padStart(O?2:8,"0");function d(){_=this.value,a(4,_)}const y=()=>{a(0,m=-1),a(1,r=[...o(_)])};function V(){p=this.checked,a(3,p)}function se(){s=this.checked,a(2,s)}function oe(){m=Ht(this.value),a(0,m)}return l.$$.update=()=>{var N;if(l.$$.dirty&3){const O=(N=r[m])==null?void 0:N.execute;O&&setTimeout(O,500)}},[m,r,s,p,_,o,n,d,y,V,se,oe]}class Yt extends Ft{constructor(e){super(),Mt(this,e,Qt,Kt,Wt,{})}}export{Yt as default};

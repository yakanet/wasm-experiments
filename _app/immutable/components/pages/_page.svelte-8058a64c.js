import{S as Lt,i as At,s as It,k as c,q as p,a as A,l as u,m as h,r as v,h as r,c as I,p as E,n as D,b as ge,F as t,H as ke,I as me,J as Pt,A as xe,K as Tt,L as Ut,M as De,u as et,e as gt,N as Ct,O as Ht,P as Nt,Q as Ot}from"../../chunks/index-aaceca5f.js";function jt(l){const e=l-1;return e*e*e+1}function wt(l,{delay:e=0,duration:s=400,easing:n=jt,x:_=0,y:m=0,opacity:d=0}={}){const o=getComputedStyle(l),a=+o.opacity,i=o.transform==="none"?"":o.transform,k=a*(1-d);return{delay:e,duration:s,easing:n,css:(j,R)=>`
			transform: ${i} translate(${(1-j)*_}px, ${(1-j)*m}px);
			opacity: ${a-k*R}`}}var L=(l=>(l[l.PUSH=0]="PUSH",l[l.ADD=1]="ADD",l[l.DISPLAY=2]="DISPLAY",l))(L||{});const U={[0]:"POUSSE",[1]:"SOMME",[2]:"AFFICHE"},zt=Object.fromEntries(Object.entries(U).map(([l,e])=>[e,~~l]));function Et(l,e,s){const n=l.slice();return n[12]=e[s],n}function bt(l,e,s){const n=l.slice();return n[15]=e[s].id,n[16]=e[s].op,n[17]=e[s].operand,n[18]=e[s].label,n}function kt(l){let e=l[6](l[17],l[3])+"",s;return{c(){s=p(e)},l(n){s=v(n,e)},m(n,_){ge(n,s,_)},p(n,_){_&10&&e!==(e=n[6](n[17],n[3])+"")&&et(s,e)},d(n){n&&r(s)}}}function Dt(l){let e,s=l[6](l[16],l[3])+"",n,_,m,d,o=l[17]!==void 0&&kt(l);return{c(){e=c("code"),n=p(s),_=A(),o&&o.c(),m=A(),this.h()},l(a){e=u(a,"CODE",{title:!0,class:!0});var i=h(e);n=v(i,s),_=I(i),o&&o.l(i),m=I(i),i.forEach(r),this.h()},h(){var a;D(e,"title",d=`${l[18]} ${(a=l[17])!=null?a:""}`),D(e,"class","svelte-1jl5zhu"),De(e,"fullline",l[2]),De(e,"highlighted",l[0]===l[15])},m(a,i){ge(a,e,i),t(e,n),t(e,_),o&&o.m(e,null),t(e,m)},p(a,i){var k;i&10&&s!==(s=a[6](a[16],a[3])+"")&&et(n,s),a[17]!==void 0?o?o.p(a,i):(o=kt(a),o.c(),o.m(e,m)):o&&(o.d(1),o=null),i&2&&d!==(d=`${a[18]} ${(k=a[17])!=null?k:""}`)&&D(e,"title",d),i&4&&De(e,"fullline",a[2]),i&3&&De(e,"highlighted",a[0]===a[15])},d(a){a&&r(e),o&&o.d()}}}function yt(l){var d,o;let e=[],s=new Map,n,_=(o=(d=l[1].at(l[0]-1))==null?void 0:d.stack)!=null?o:[];const m=a=>a[12];for(let a=0;a<_.length;a+=1){let i=Et(l,_,a),k=m(i);s.set(k,e[a]=St(k,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=gt()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);n=gt()},m(a,i){for(let k=0;k<e.length;k+=1)e[k].m(a,i);ge(a,n,i)},p(a,i){var k,j;i&3&&(_=(j=(k=a[1].at(a[0]-1))==null?void 0:k.stack)!=null?j:[],e=Ct(e,i,m,1,a,_,s,n.parentNode,Ot,St,n,Et))},d(a){for(let i=0;i<e.length;i+=1)e[i].d(a);a&&r(n)}}}function St(l,e){let s,n=e[12]+"",_,m,d;return{key:l,first:null,c(){s=c("li"),_=p(n),m=A(),this.h()},l(o){s=u(o,"LI",{});var a=h(s);_=v(a,n),m=I(a),a.forEach(r),this.h()},h(){this.first=s},m(o,a){ge(o,s,a),t(s,_),t(s,m)},p(o,a){e=o,a&3&&n!==(n=e[12]+"")&&et(_,n)},i(o){o&&(d||Ht(()=>{d=Nt(s,wt,{y:-20}),d.start()}))},o:xe,d(o){o&&r(s)}}}function Ft(l){let e,s,n,_,m,d,o,a,i=U[L.PUSH]+"",k,j,R=l[6](L.PUSH,!0)+"",ae,se,C,H,y,B,ne=U[L.ADD]+"",w,$,tt=l[6](L.ADD,!0)+"",ye,Se,oe,Pe,V,ie,lt=U[L.DISPLAY]+"",Le,Ae,at=l[6](L.DISPLAY,!0)+"",Ie,Te,re,Ue,Ce,M,de,He,Ne,Y,Oe,ce,X,je,we,N,ue,ze,Fe,T,Me,q,W,J,qe,Be,Z,K,Ye,$e,G,Ve,O,Ee,Ge,z,fe,Je,Ke,F,Qe,st,x=l[1],S=[];for(let f=0;f<x.length;f+=1)S[f]=Dt(bt(l,x,f));let P=l[0]>0&&yt(l);return{c(){e=c("main"),s=c("fieldset"),n=c("legend"),_=p("Machine Virtuelle"),m=A(),d=c("dl"),o=c("dt"),a=c("code"),k=p(i),j=p(" (OP "),ae=p(R),se=p(`)
            `),C=c("dd"),H=p("Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),y=c("dt"),B=c("code"),w=p(ne),$=p(" (OP "),ye=p(tt),Se=p(`)
            `),oe=c("dd"),Pe=p(`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),V=c("dt"),ie=c("code"),Le=p(lt),Ae=p(" (OP "),Ie=p(at),Te=p(`)
            `),re=c("dd"),Ue=p("Prend le nombre qui est sur la stack et l'affiche"),Ce=A(),M=c("fieldset"),de=c("legend"),He=p("Source"),Ne=A(),Y=c("textarea"),Oe=A(),ce=c("div"),X=c("button"),je=p("Compile"),we=A(),N=c("fieldset"),ue=c("legend"),ze=p("ByteCode"),Fe=A(),T=c("div");for(let f=0;f<S.length;f+=1)S[f].c();Me=A(),q=c("div"),W=c("label"),J=c("input"),qe=p(`
                Hex`),Be=A(),Z=c("label"),K=c("input"),Ye=p(`
                Format`),$e=A(),G=c("label"),Ve=p(`Position
                `),O=c("input"),Ge=A(),z=c("fieldset"),fe=c("legend"),Je=p("Stack"),Ke=A(),F=c("ul"),P&&P.c(),this.h()},l(f){e=u(f,"MAIN",{class:!0});var g=h(e);s=u(g,"FIELDSET",{class:!0});var b=h(s);n=u(b,"LEGEND",{});var he=h(n);_=v(he,"Machine Virtuelle"),he.forEach(r),m=I(b),d=u(b,"DL",{style:!0,class:!0});var Q=h(d);o=u(Q,"DT",{});var _e=h(o);a=u(_e,"CODE",{});var nt=h(a);k=v(nt,i),nt.forEach(r),j=v(_e," (OP "),ae=v(_e,R),se=v(_e,`)
            `),_e.forEach(r),C=u(Q,"DD",{});var ot=h(C);H=v(ot,"Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),ot.forEach(r),y=u(Q,"DT",{});var pe=h(y);B=u(pe,"CODE",{});var it=h(B);w=v(it,ne),it.forEach(r),$=v(pe," (OP "),ye=v(pe,tt),Se=v(pe,`)
            `),pe.forEach(r),oe=u(Q,"DD",{});var rt=h(oe);Pe=v(rt,`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),rt.forEach(r),V=u(Q,"DT",{});var ve=h(V);ie=u(ve,"CODE",{});var dt=h(ie);Le=v(dt,lt),dt.forEach(r),Ae=v(ve," (OP "),Ie=v(ve,at),Te=v(ve,`)
            `),ve.forEach(r),re=u(Q,"DD",{});var ct=h(re);Ue=v(ct,"Prend le nombre qui est sur la stack et l'affiche"),ct.forEach(r),Q.forEach(r),b.forEach(r),Ce=I(g),M=u(g,"FIELDSET",{class:!0});var ee=h(M);de=u(ee,"LEGEND",{});var ut=h(de);He=v(ut,"Source"),ut.forEach(r),Ne=I(ee),Y=u(ee,"TEXTAREA",{"aria-label":!0,class:!0}),h(Y).forEach(r),Oe=I(ee),ce=u(ee,"DIV",{});var ft=h(ce);X=u(ft,"BUTTON",{});var ht=h(X);je=v(ht,"Compile"),ht.forEach(r),ft.forEach(r),ee.forEach(r),we=I(g),N=u(g,"FIELDSET",{class:!0,style:!0});var te=h(N);ue=u(te,"LEGEND",{});var _t=h(ue);ze=v(_t,"ByteCode"),_t.forEach(r),Fe=I(te),T=u(te,"DIV",{style:!0});var pt=h(T);for(let Ze=0;Ze<S.length;Ze+=1)S[Ze].l(pt);pt.forEach(r),Me=I(te),q=u(te,"DIV",{style:!0});var le=h(q);W=u(le,"LABEL",{});var Re=h(W);J=u(Re,"INPUT",{type:!0}),qe=v(Re,`
                Hex`),Re.forEach(r),Be=I(le),Z=u(le,"LABEL",{});var Xe=h(Z);K=u(Xe,"INPUT",{type:!0}),Ye=v(Xe,`
                Format`),Xe.forEach(r),$e=I(le),G=u(le,"LABEL",{style:!0});var We=h(G);Ve=v(We,`Position
                `),O=u(We,"INPUT",{style:!0,type:!0,min:!0,max:!0}),We.forEach(r),le.forEach(r),te.forEach(r),Ge=I(g),z=u(g,"FIELDSET",{class:!0,style:!0});var be=h(z);fe=u(be,"LEGEND",{});var vt=h(fe);Je=v(vt,"Stack"),vt.forEach(r),Ke=I(be),F=u(be,"UL",{style:!0,class:!0});var mt=h(F);P&&P.l(mt),mt.forEach(r),be.forEach(r),g.forEach(r),this.h()},h(){E(d,"display","flex"),E(d,"flex-direction","column"),E(d,"gap","5px"),D(d,"class","svelte-1jl5zhu"),D(s,"class","grammar svelte-1jl5zhu"),D(Y,"aria-label","Source code"),D(Y,"class","svelte-1jl5zhu"),D(M,"class","source svelte-1jl5zhu"),E(T,"display","flex"),E(T,"flex-wrap","wrap"),E(T,"align-content","baseline"),E(T,"gap",l[2]?"0":"5px",!1),E(T,"flex-direction",l[2]?"column":"row",!1),D(J,"type","checkbox"),D(K,"type","checkbox"),E(O,"text-align","right"),D(O,"type","number"),D(O,"min","-1"),D(O,"max",Ee=l[1].length),E(G,"flex","1"),E(G,"text-align","right"),E(q,"display","flex"),D(N,"class","assembly svelte-1jl5zhu"),E(N,"visibility",l[1].length?"initial":"hidden"),E(F,"display","flex"),E(F,"position","absolute"),E(F,"list-style","none"),E(F,"flex-direction","column-reverse"),D(F,"class","svelte-1jl5zhu"),D(z,"class","stack svelte-1jl5zhu"),E(z,"overflow","hidden"),E(z,"visibility",l[1].length?"initial":"hidden",!1),D(e,"class","svelte-1jl5zhu")},m(f,g){ge(f,e,g),t(e,s),t(s,n),t(n,_),t(s,m),t(s,d),t(d,o),t(o,a),t(a,k),t(o,j),t(o,ae),t(o,se),t(d,C),t(C,H),t(d,y),t(y,B),t(B,w),t(y,$),t(y,ye),t(y,Se),t(d,oe),t(oe,Pe),t(d,V),t(V,ie),t(ie,Le),t(V,Ae),t(V,Ie),t(V,Te),t(d,re),t(re,Ue),t(e,Ce),t(e,M),t(M,de),t(de,He),t(M,Ne),t(M,Y),ke(Y,l[4]),t(M,Oe),t(M,ce),t(ce,X),t(X,je),t(e,we),t(e,N),t(N,ue),t(ue,ze),t(N,Fe),t(N,T);for(let b=0;b<S.length;b+=1)S[b].m(T,null);t(N,Me),t(N,q),t(q,W),t(W,J),J.checked=l[3],t(W,qe),t(q,Be),t(q,Z),t(Z,K),K.checked=l[2],t(Z,Ye),t(q,$e),t(q,G),t(G,Ve),t(G,O),ke(O,l[0]),t(e,Ge),t(e,z),t(z,fe),t(fe,Je),t(z,Ke),t(z,F),P&&P.m(F,null),Qe||(st=[me(Y,"input",l[7]),me(X,"click",l[8]),me(J,"change",l[9]),me(K,"change",l[10]),me(O,"input",l[11])],Qe=!0)},p(f,[g]){if(g&16&&ke(Y,f[4]),g&79){x=f[1];let b;for(b=0;b<x.length;b+=1){const he=bt(f,x,b);S[b]?S[b].p(he,g):(S[b]=Dt(he),S[b].c(),S[b].m(T,null))}for(;b<S.length;b+=1)S[b].d(1);S.length=x.length}g&4&&E(T,"gap",f[2]?"0":"5px",!1),g&4&&E(T,"flex-direction",f[2]?"column":"row",!1),g&8&&(J.checked=f[3]),g&4&&(K.checked=f[2]),g&2&&Ee!==(Ee=f[1].length)&&D(O,"max",Ee),g&1&&Pt(O.value)!==f[0]&&ke(O,f[0]),g&2&&E(N,"visibility",f[1].length?"initial":"hidden"),f[0]>0?P?P.p(f,g):(P=yt(f),P.c(),P.m(F,null)):P&&(P.d(1),P=null),g&2&&E(z,"visibility",f[1].length?"initial":"hidden",!1)},i:xe,o:xe,d(f){f&&r(e),Tt(S,f),P&&P.d(),Qe=!1,Ut(st)}}}function Mt(l,e,s){let n=!1,_=!1,m=-1,d=`${U[L.PUSH]} 12
${U[L.PUSH]} 23
${U[L.PUSH]} 48
${U[L.ADD]}
${U[L.ADD]}
${U[L.DISPLAY]}`,o=[];function*a(C){s(0,m=-1);const H=C.split(/\s+/g)[Symbol.iterator](),y=[];let B=0;for(;;){const ne=H.next();if(ne.done)break;const w=zt[ne.value];switch(w){case L.ADD:{y.push(y.pop()+y.pop()&255),yield{id:B++,op:w,label:U[w],stack:[...y]};break}case L.DISPLAY:{const $=y.pop();yield{id:B++,op:w,label:U[w],stack:[...y],execute:()=>alert($)};break}case L.PUSH:{const $=parseInt(H.next().value)&255;y.push($),yield{id:B++,op:w,label:U[w],operand:$,stack:[...y]};break}}}}const i=(C,H)=>C.toString(H?16:2).padStart(H?2:8,"0");function k(){d=this.value,s(4,d)}const j=()=>{s(0,m=-1),s(1,o=[...a(d)])};function R(){_=this.checked,s(3,_)}function ae(){n=this.checked,s(2,n)}function se(){m=Pt(this.value),s(0,m)}return l.$$.update=()=>{var C;if(l.$$.dirty&3){const H=(C=o[m-1])==null?void 0:C.execute;H&&setTimeout(H,1)}},[m,o,n,_,d,a,i,k,j,R,ae,se]}class Bt extends Lt{constructor(e){super(),At(this,e,Mt,Ft,It,{})}}export{Bt as default};

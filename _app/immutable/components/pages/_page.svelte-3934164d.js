import{S as Lt,i as At,s as It,k as c,q as p,a as A,l as f,m as h,r as m,h as r,c as I,p as E,n as D,b as ge,F as t,H as ke,I as ve,J as Pt,A as xe,K as Tt,L as Ut,M as De,u as et,e as gt,N as Ht,O as Nt,P as Ot,Q as Ct}from"../../chunks/index-aaceca5f.js";function wt(l){const e=l-1;return e*e*e+1}function Ft(l,{delay:e=0,duration:s=400,easing:n=wt,x:_=0,y:v=0,opacity:d=0}={}){const i=getComputedStyle(l),a=+i.opacity,o=i.transform==="none"?"":i.transform,k=a*(1-d);return{delay:e,duration:s,easing:n,css:(w,X)=>`
			transform: ${o} translate(${(1-w)*_}px, ${(1-w)*v}px);
			opacity: ${a-k*X}`}}var L=(l=>(l[l.PUSH=0]="PUSH",l[l.ADD=1]="ADD",l[l.DISPLAY=2]="DISPLAY",l))(L||{});const U={[0]:"POUSSE",[1]:"SOMME",[2]:"AFFICHE"},Mt=Object.fromEntries(Object.entries(U).map(([l,e])=>[e,~~l]));function Et(l,e,s){const n=l.slice();return n[12]=e[s],n}function bt(l,e,s){const n=l.slice();return n[15]=e[s].id,n[16]=e[s].op,n[17]=e[s].operand,n[18]=e[s].label,n}function kt(l){let e=l[6](l[17],l[3])+"",s;return{c(){s=p(e)},l(n){s=m(n,e)},m(n,_){ge(n,s,_)},p(n,_){_&10&&e!==(e=n[6](n[17],n[3])+"")&&et(s,e)},d(n){n&&r(s)}}}function Dt(l){let e,s=l[6](l[16],l[3])+"",n,_,v,d,i=l[17]!==void 0&&kt(l);return{c(){e=c("code"),n=p(s),_=A(),i&&i.c(),v=A(),this.h()},l(a){e=f(a,"CODE",{title:!0,class:!0});var o=h(e);n=m(o,s),_=I(o),i&&i.l(o),v=I(o),o.forEach(r),this.h()},h(){var a;D(e,"title",d=`${l[18]} ${(a=l[17])!=null?a:""}`),D(e,"class","svelte-14nm9"),De(e,"fullline",l[2]),De(e,"highlighted",l[0]===l[15])},m(a,o){ge(a,e,o),t(e,n),t(e,_),i&&i.m(e,null),t(e,v)},p(a,o){var k;o&10&&s!==(s=a[6](a[16],a[3])+"")&&et(n,s),a[17]!==void 0?i?i.p(a,o):(i=kt(a),i.c(),i.m(e,v)):i&&(i.d(1),i=null),o&2&&d!==(d=`${a[18]} ${(k=a[17])!=null?k:""}`)&&D(e,"title",d),o&4&&De(e,"fullline",a[2]),o&3&&De(e,"highlighted",a[0]===a[15])},d(a){a&&r(e),i&&i.d()}}}function yt(l){var d,i;let e=[],s=new Map,n,_=(i=(d=l[1].at(l[0]-1))==null?void 0:d.stack)!=null?i:[];const v=a=>a[12];for(let a=0;a<_.length;a+=1){let o=Et(l,_,a),k=v(o);s.set(k,e[a]=St(k,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=gt()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);n=gt()},m(a,o){for(let k=0;k<e.length;k+=1)e[k].m(a,o);ge(a,n,o)},p(a,o){var k,w;o&3&&(_=(w=(k=a[1].at(a[0]-1))==null?void 0:k.stack)!=null?w:[],e=Ht(e,o,v,1,a,_,s,n.parentNode,Ct,St,n,Et))},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&r(n)}}}function St(l,e){let s,n=e[12]+"",_,v,d;return{key:l,first:null,c(){s=c("li"),_=p(n),v=A(),this.h()},l(i){s=f(i,"LI",{});var a=h(s);_=m(a,n),v=I(a),a.forEach(r),this.h()},h(){this.first=s},m(i,a){ge(i,s,a),t(s,_),t(s,v)},p(i,a){e=i,a&3&&n!==(n=e[12]+"")&&et(_,n)},i(i){i&&(d||Nt(()=>{d=Ot(s,Ft,{y:-20}),d.start()}))},o:xe,d(i){i&&r(s)}}}function qt(l){let e,s,n,_,v,d,i,a,o=U[L.PUSH]+"",k,w,X=l[6](L.PUSH,!0)+"",ae,se,H,N,y,V,ne=U[L.ADD]+"",F,G,tt=l[6](L.ADD,!0)+"",ye,Se,ie,Pe,j,oe,lt=U[L.DISPLAY]+"",Le,Ae,at=l[6](L.DISPLAY,!0)+"",Ie,Te,re,Ue,He,Y,de,Ne,Oe,B,Ce,ce,z,we,Fe,O,fe,Me,qe,T,Ye,$,W,K,$e,Ve,Z,Q,Be,Ge,J,je,C,Ee,Je,M,ue,Ke,Qe,q,Re,st,x=l[1],S=[];for(let u=0;u<x.length;u+=1)S[u]=Dt(bt(l,x,u));let P=l[0]>0&&yt(l);return{c(){e=c("main"),s=c("fieldset"),n=c("legend"),_=p("Machine Virtuelle"),v=A(),d=c("dl"),i=c("dt"),a=c("code"),k=p(o),w=p(" (OP "),ae=p(X),se=p(`)
            `),H=c("dd"),N=p("Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),y=c("dt"),V=c("code"),F=p(ne),G=p(" (OP "),ye=p(tt),Se=p(`)
            `),ie=c("dd"),Pe=p(`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),j=c("dt"),oe=c("code"),Le=p(lt),Ae=p(" (OP "),Ie=p(at),Te=p(`)
            `),re=c("dd"),Ue=p("Prend le nombre qui est sur la stack et l'affiche"),He=A(),Y=c("fieldset"),de=c("legend"),Ne=p("Source (Langage Imaginaire)"),Oe=A(),B=c("textarea"),Ce=A(),ce=c("div"),z=c("button"),we=p("Compile"),Fe=A(),O=c("fieldset"),fe=c("legend"),Me=p("Assembly"),qe=A(),T=c("div");for(let u=0;u<S.length;u+=1)S[u].c();Ye=A(),$=c("div"),W=c("label"),K=c("input"),$e=p(`
                Hex`),Ve=A(),Z=c("label"),Q=c("input"),Be=p(`
                Format`),Ge=A(),J=c("label"),je=p(`Position
                `),C=c("input"),Je=A(),M=c("fieldset"),ue=c("legend"),Ke=p("Stack"),Qe=A(),q=c("ul"),P&&P.c(),this.h()},l(u){e=f(u,"MAIN",{class:!0});var g=h(e);s=f(g,"FIELDSET",{class:!0});var b=h(s);n=f(b,"LEGEND",{});var he=h(n);_=m(he,"Machine Virtuelle"),he.forEach(r),v=I(b),d=f(b,"DL",{style:!0,class:!0});var R=h(d);i=f(R,"DT",{});var _e=h(i);a=f(_e,"CODE",{});var nt=h(a);k=m(nt,o),nt.forEach(r),w=m(_e," (OP "),ae=m(_e,X),se=m(_e,`)
            `),_e.forEach(r),H=f(R,"DD",{});var it=h(H);N=m(it,"Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),it.forEach(r),y=f(R,"DT",{});var pe=h(y);V=f(pe,"CODE",{});var ot=h(V);F=m(ot,ne),ot.forEach(r),G=m(pe," (OP "),ye=m(pe,tt),Se=m(pe,`)
            `),pe.forEach(r),ie=f(R,"DD",{});var rt=h(ie);Pe=m(rt,`Consomme deux nombres sur la stack, les additionne, et pousse le
                r\xE9sultat sur la stack
            `),rt.forEach(r),j=f(R,"DT",{});var me=h(j);oe=f(me,"CODE",{});var dt=h(oe);Le=m(dt,lt),dt.forEach(r),Ae=m(me," (OP "),Ie=m(me,at),Te=m(me,`)
            `),me.forEach(r),re=f(R,"DD",{});var ct=h(re);Ue=m(ct,"Prend le nombre qui est sur la stack et l'affiche"),ct.forEach(r),R.forEach(r),b.forEach(r),He=I(g),Y=f(g,"FIELDSET",{class:!0});var ee=h(Y);de=f(ee,"LEGEND",{});var ft=h(de);Ne=m(ft,"Source (Langage Imaginaire)"),ft.forEach(r),Oe=I(ee),B=f(ee,"TEXTAREA",{"aria-label":!0,class:!0}),h(B).forEach(r),Ce=I(ee),ce=f(ee,"DIV",{});var ut=h(ce);z=f(ut,"BUTTON",{});var ht=h(z);we=m(ht,"Compile"),ht.forEach(r),ut.forEach(r),ee.forEach(r),Fe=I(g),O=f(g,"FIELDSET",{class:!0,style:!0});var te=h(O);fe=f(te,"LEGEND",{});var _t=h(fe);Me=m(_t,"Assembly"),_t.forEach(r),qe=I(te),T=f(te,"DIV",{style:!0});var pt=h(T);for(let Ze=0;Ze<S.length;Ze+=1)S[Ze].l(pt);pt.forEach(r),Ye=I(te),$=f(te,"DIV",{style:!0});var le=h($);W=f(le,"LABEL",{});var Xe=h(W);K=f(Xe,"INPUT",{type:!0}),$e=m(Xe,`
                Hex`),Xe.forEach(r),Ve=I(le),Z=f(le,"LABEL",{});var ze=h(Z);Q=f(ze,"INPUT",{type:!0}),Be=m(ze,`
                Format`),ze.forEach(r),Ge=I(le),J=f(le,"LABEL",{style:!0});var We=h(J);je=m(We,`Position
                `),C=f(We,"INPUT",{style:!0,type:!0,min:!0,max:!0}),We.forEach(r),le.forEach(r),te.forEach(r),Je=I(g),M=f(g,"FIELDSET",{class:!0,style:!0});var be=h(M);ue=f(be,"LEGEND",{});var mt=h(ue);Ke=m(mt,"Stack"),mt.forEach(r),Qe=I(be),q=f(be,"UL",{style:!0,class:!0});var vt=h(q);P&&P.l(vt),vt.forEach(r),be.forEach(r),g.forEach(r),this.h()},h(){E(d,"display","flex"),E(d,"flex-direction","column"),E(d,"gap","5px"),D(d,"class","svelte-14nm9"),D(s,"class","grammar svelte-14nm9"),D(B,"aria-label","Source code"),D(B,"class","svelte-14nm9"),D(Y,"class","source svelte-14nm9"),E(T,"display","flex"),E(T,"flex-wrap","wrap"),E(T,"align-content","baseline"),E(T,"gap",l[2]?"0":"5px",!1),E(T,"flex-direction",l[2]?"column":"row",!1),D(K,"type","checkbox"),D(Q,"type","checkbox"),E(C,"text-align","right"),D(C,"type","number"),D(C,"min","-1"),D(C,"max",Ee=l[1].length),E(J,"flex","1"),E(J,"text-align","right"),E($,"display","flex"),D(O,"class","assembly svelte-14nm9"),E(O,"visibility",l[1].length?"initial":"hidden"),E(q,"display","flex"),E(q,"position","absolute"),E(q,"list-style","none"),E(q,"flex-direction","column-reverse"),D(q,"class","svelte-14nm9"),D(M,"class","stack svelte-14nm9"),E(M,"overflow","hidden"),E(M,"visibility",l[1].length?"initial":"hidden",!1),D(e,"class","svelte-14nm9")},m(u,g){ge(u,e,g),t(e,s),t(s,n),t(n,_),t(s,v),t(s,d),t(d,i),t(i,a),t(a,k),t(i,w),t(i,ae),t(i,se),t(d,H),t(H,N),t(d,y),t(y,V),t(V,F),t(y,G),t(y,ye),t(y,Se),t(d,ie),t(ie,Pe),t(d,j),t(j,oe),t(oe,Le),t(j,Ae),t(j,Ie),t(j,Te),t(d,re),t(re,Ue),t(e,He),t(e,Y),t(Y,de),t(de,Ne),t(Y,Oe),t(Y,B),ke(B,l[4]),t(Y,Ce),t(Y,ce),t(ce,z),t(z,we),t(e,Fe),t(e,O),t(O,fe),t(fe,Me),t(O,qe),t(O,T);for(let b=0;b<S.length;b+=1)S[b].m(T,null);t(O,Ye),t(O,$),t($,W),t(W,K),K.checked=l[3],t(W,$e),t($,Ve),t($,Z),t(Z,Q),Q.checked=l[2],t(Z,Be),t($,Ge),t($,J),t(J,je),t(J,C),ke(C,l[0]),t(e,Je),t(e,M),t(M,ue),t(ue,Ke),t(M,Qe),t(M,q),P&&P.m(q,null),Re||(st=[ve(B,"input",l[7]),ve(z,"click",l[8]),ve(K,"change",l[9]),ve(Q,"change",l[10]),ve(C,"input",l[11])],Re=!0)},p(u,[g]){if(g&16&&ke(B,u[4]),g&79){x=u[1];let b;for(b=0;b<x.length;b+=1){const he=bt(u,x,b);S[b]?S[b].p(he,g):(S[b]=Dt(he),S[b].c(),S[b].m(T,null))}for(;b<S.length;b+=1)S[b].d(1);S.length=x.length}g&4&&E(T,"gap",u[2]?"0":"5px",!1),g&4&&E(T,"flex-direction",u[2]?"column":"row",!1),g&8&&(K.checked=u[3]),g&4&&(Q.checked=u[2]),g&2&&Ee!==(Ee=u[1].length)&&D(C,"max",Ee),g&1&&Pt(C.value)!==u[0]&&ke(C,u[0]),g&2&&E(O,"visibility",u[1].length?"initial":"hidden"),u[0]>0?P?P.p(u,g):(P=yt(u),P.c(),P.m(q,null)):P&&(P.d(1),P=null),g&2&&E(M,"visibility",u[1].length?"initial":"hidden",!1)},i:xe,o:xe,d(u){u&&r(e),Tt(S,u),P&&P.d(),Re=!1,Ut(st)}}}function Yt(l,e,s){let n=!1,_=!1,v=-1,d=`${U[L.PUSH]} 12
${U[L.PUSH]} 23
${U[L.PUSH]} 48
${U[L.ADD]}
${U[L.ADD]}
${U[L.DISPLAY]}`,i=[];function*a(H){s(0,v=-1);const N=H.split(/\s+/g)[Symbol.iterator](),y=[];let V=0;for(;;){const ne=N.next();if(ne.done)break;const F=Mt[ne.value];switch(F){case L.ADD:{y.push(y.pop()+y.pop()&255),yield{id:V++,op:F,label:U[F],stack:[...y]};break}case L.DISPLAY:{const G=y.pop();yield{id:V++,op:F,label:U[F],stack:[...y],execute:()=>alert(G)};break}case L.PUSH:{const G=parseInt(N.next().value)&255;y.push(G),yield{id:V++,op:F,label:U[F],operand:G,stack:[...y]};break}}}}const o=(H,N)=>H.toString(N?16:2).padStart(N?2:8,"0");function k(){d=this.value,s(4,d)}const w=()=>{s(0,v=-1),s(1,i=[...a(d)])};function X(){_=this.checked,s(3,_)}function ae(){n=this.checked,s(2,n)}function se(){v=Pt(this.value),s(0,v)}return l.$$.update=()=>{var H;if(l.$$.dirty&3){const N=(H=i[v-1])==null?void 0:H.execute;N&&setTimeout(N,1)}},[v,i,n,_,d,a,o,k,w,X,ae,se]}class Vt extends Lt{constructor(e){super(),At(this,e,Yt,qt,It,{})}}export{Vt as default};

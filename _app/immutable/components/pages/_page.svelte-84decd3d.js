import{S as Nt,i as Ot,s as Ct,k as d,q as _,a as S,l as c,m as f,r as p,h as r,c as L,n as A,p as b,b as ge,F as e,H as ke,I as ve,J as qt,A as nt,K as wt,L as Ft,M as De,u as ot,e as St,N as zt,O as Mt,P as Yt,Q as $t}from"../../chunks/index-aaceca5f.js";function Vt(l){const t=l-1;return t*t*t+1}function Bt(l,{delay:t=0,duration:s=400,easing:n=Vt,x:h=0,y:g=0,opacity:m=0}={}){const o=getComputedStyle(l),a=+o.opacity,i=o.transform==="none"?"":o.transform,k=a*(1-m);return{delay:t,duration:s,easing:n,css:(F,R)=>`
			transform: ${i} translate(${(1-F)*h}px, ${(1-F)*g}px);
			opacity: ${a-k*R}`}}var P=(l=>(l[l.PUSH=0]="PUSH",l[l.ADD=1]="ADD",l[l.DISPLAY=2]="DISPLAY",l))(P||{});const U={[0]:"POUSSE",[1]:"SOMME",[2]:"AFFICHE"},Ht=Object.fromEntries(Object.entries(U).map(([l,t])=>[t,~~l]));console.log({reverseSyntax:Ht});function Lt(l,t,s){const n=l.slice();return n[12]=t[s],n}function Pt(l,t,s){const n=l.slice();return n[15]=t[s].id,n[16]=t[s].op,n[17]=t[s].operand,n[18]=t[s].label,n}function At(l){let t=l[6](l[17],l[3])+"",s;return{c(){s=_(t)},l(n){s=p(n,t)},m(n,h){ge(n,s,h)},p(n,h){h&10&&t!==(t=n[6](n[17],n[3])+"")&&ot(s,t)},d(n){n&&r(s)}}}function It(l){let t,s=l[6](l[16],l[3])+"",n,h,g,m,o=l[17]!==void 0&&At(l);return{c(){t=d("code"),n=_(s),h=S(),o&&o.c(),g=S(),this.h()},l(a){t=c(a,"CODE",{title:!0,class:!0});var i=f(t);n=p(i,s),h=L(i),o&&o.l(i),g=L(i),i.forEach(r),this.h()},h(){var a;A(t,"title",m=`${l[18]} ${(a=l[17])!=null?a:""}`),A(t,"class","svelte-3zoq3t"),De(t,"fullline",l[2]),De(t,"highlighted",l[0]===l[15])},m(a,i){ge(a,t,i),e(t,n),e(t,h),o&&o.m(t,null),e(t,g)},p(a,i){var k;i&10&&s!==(s=a[6](a[16],a[3])+"")&&ot(n,s),a[17]!==void 0?o?o.p(a,i):(o=At(a),o.c(),o.m(t,g)):o&&(o.d(1),o=null),i&2&&m!==(m=`${a[18]} ${(k=a[17])!=null?k:""}`)&&A(t,"title",m),i&4&&De(t,"fullline",a[2]),i&3&&De(t,"highlighted",a[0]===a[15])},d(a){a&&r(t),o&&o.d()}}}function Tt(l){var m,o;let t=[],s=new Map,n,h=(o=(m=l[1].at(l[0]-1))==null?void 0:m.stack)!=null?o:[];const g=a=>a[12];for(let a=0;a<h.length;a+=1){let i=Lt(l,h,a),k=g(i);s.set(k,t[a]=Ut(k,i))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();n=St()},l(a){for(let i=0;i<t.length;i+=1)t[i].l(a);n=St()},m(a,i){for(let k=0;k<t.length;k+=1)t[k].m(a,i);ge(a,n,i)},p(a,i){var k,F;i&3&&(h=(F=(k=a[1].at(a[0]-1))==null?void 0:k.stack)!=null?F:[],t=zt(t,i,g,1,a,h,s,n.parentNode,$t,Ut,n,Lt))},d(a){for(let i=0;i<t.length;i+=1)t[i].d(a);a&&r(n)}}}function Ut(l,t){let s,n=t[12]+"",h,g,m;return{key:l,first:null,c(){s=d("li"),h=_(n),g=S(),this.h()},l(o){s=c(o,"LI",{});var a=f(s);h=p(a,n),g=L(a),a.forEach(r),this.h()},h(){this.first=s},m(o,a){ge(o,s,a),e(s,h),e(s,g)},p(o,a){t=o,a&3&&n!==(n=t[12]+"")&&ot(h,n)},i(o){o&&(m||Mt(()=>{m=Yt(s,Bt,{y:-20}),m.start()}))},o:nt,d(o){o&&r(s)}}}function Gt(l){let t,s,n,h,g,m,o,a,i=U[P.PUSH]+"",k,F,R=l[6](P.PUSH,!0)+"",se,ne,q,H,N,Y,z,I,J=U[P.ADD]+"",ye,Se,it=l[6](P.ADD,!0)+"",Le,Pe,oe,Ae,Ie,X,B,ie,rt=U[P.DISPLAY]+"",Te,Ue,dt=l[6](P.DISPLAY,!0)+"",qe,He,re,Ne,Oe,$,de,Ce,we,G,Fe,ce,W,ze,Me,O,fe,Ye,$e,T,Ve,V,Z,K,Be,Ge,x,Q,je,Je,j,Ke,C,Ee,Qe,M,ue,Re,Xe,w,We,ct,ee=l[1],D=[];for(let u=0;u<ee.length;u+=1)D[u]=It(Pt(l,ee,u));let y=l[0]>0&&Tt(l);return{c(){t=d("main"),s=d("fieldset"),n=d("legend"),h=_("Machine Virtuelle"),g=S(),m=d("dl"),o=d("dt"),a=d("code"),k=_(i),F=_(" (OP "),se=_(R),ne=_(`)
            `),q=d("dd"),H=_("Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),N=S(),Y=d("dl"),z=d("dt"),I=d("code"),ye=_(J),Se=_(" (OP "),Le=_(it),Pe=_(`)
            `),oe=d("dd"),Ae=_(`Consomme deux nombres sur la stack, les additionne, et
                pousse le r\xE9sultat sur la stack`),Ie=S(),X=d("dl"),B=d("dt"),ie=d("code"),Te=_(rt),Ue=_(" (OP "),qe=_(dt),He=_(`)
            `),re=d("dd"),Ne=_("Prend le nombre qui est sur la stack et l'affiche"),Oe=S(),$=d("fieldset"),de=d("legend"),Ce=_("Source (Langage Imaginaire)"),we=S(),G=d("textarea"),Fe=S(),ce=d("div"),W=d("button"),ze=_("Compile"),Me=S(),O=d("fieldset"),fe=d("legend"),Ye=_("Assembly"),$e=S(),T=d("div");for(let u=0;u<D.length;u+=1)D[u].c();Ve=S(),V=d("div"),Z=d("label"),K=d("input"),Be=_(`
                Hex`),Ge=S(),x=d("label"),Q=d("input"),je=_(`
                Format`),Je=S(),j=d("label"),Ke=_(`Position
                `),C=d("input"),Qe=S(),M=d("fieldset"),ue=d("legend"),Re=_("Stack"),Xe=S(),w=d("ul"),y&&y.c(),this.h()},l(u){t=c(u,"MAIN",{class:!0});var E=f(t);s=c(E,"FIELDSET",{class:!0});var v=f(s);n=c(v,"LEGEND",{});var he=f(n);h=p(he,"Machine Virtuelle"),he.forEach(r),g=L(v),m=c(v,"DL",{});var Ze=f(m);o=c(Ze,"DT",{});var _e=f(o);a=c(_e,"CODE",{});var ft=f(a);k=p(ft,i),ft.forEach(r),F=p(_e," (OP "),se=p(_e,R),ne=p(_e,`)
            `),_e.forEach(r),q=c(Ze,"DD",{});var ut=f(q);H=p(ut,"Pousse le nombre (0-255) qui arrive apr\xE8s sur la stack"),ut.forEach(r),Ze.forEach(r),N=L(v),Y=c(v,"DL",{});var xe=f(Y);z=c(xe,"DT",{});var pe=f(z);I=c(pe,"CODE",{});var ht=f(I);ye=p(ht,J),ht.forEach(r),Se=p(pe," (OP "),Le=p(pe,it),Pe=p(pe,`)
            `),pe.forEach(r),oe=c(xe,"DD",{});var _t=f(oe);Ae=p(_t,`Consomme deux nombres sur la stack, les additionne, et
                pousse le r\xE9sultat sur la stack`),_t.forEach(r),xe.forEach(r),Ie=L(v),X=c(v,"DL",{});var et=f(X);B=c(et,"DT",{});var me=f(B);ie=c(me,"CODE",{});var pt=f(ie);Te=p(pt,rt),pt.forEach(r),Ue=p(me," (OP "),qe=p(me,dt),He=p(me,`)
            `),me.forEach(r),re=c(et,"DD",{});var mt=f(re);Ne=p(mt,"Prend le nombre qui est sur la stack et l'affiche"),mt.forEach(r),et.forEach(r),v.forEach(r),Oe=L(E),$=c(E,"FIELDSET",{class:!0});var te=f($);de=c(te,"LEGEND",{});var vt=f(de);Ce=p(vt,"Source (Langage Imaginaire)"),vt.forEach(r),we=L(te),G=c(te,"TEXTAREA",{class:!0}),f(G).forEach(r),Fe=L(te),ce=c(te,"DIV",{});var gt=f(ce);W=c(gt,"BUTTON",{});var Et=f(W);ze=p(Et,"Compile"),Et.forEach(r),gt.forEach(r),te.forEach(r),Me=L(E),O=c(E,"FIELDSET",{class:!0,style:!0});var le=f(O);fe=c(le,"LEGEND",{});var bt=f(fe);Ye=p(bt,"Assembly"),bt.forEach(r),$e=L(le),T=c(le,"DIV",{style:!0});var kt=f(T);for(let st=0;st<D.length;st+=1)D[st].l(kt);kt.forEach(r),Ve=L(le),V=c(le,"DIV",{style:!0});var ae=f(V);Z=c(ae,"LABEL",{});var tt=f(Z);K=c(tt,"INPUT",{type:!0}),Be=p(tt,`
                Hex`),tt.forEach(r),Ge=L(ae),x=c(ae,"LABEL",{});var lt=f(x);Q=c(lt,"INPUT",{type:!0}),je=p(lt,`
                Format`),lt.forEach(r),Je=L(ae),j=c(ae,"LABEL",{style:!0});var at=f(j);Ke=p(at,`Position
                `),C=c(at,"INPUT",{style:!0,type:!0,min:!0,max:!0}),at.forEach(r),ae.forEach(r),le.forEach(r),Qe=L(E),M=c(E,"FIELDSET",{class:!0,style:!0});var be=f(M);ue=c(be,"LEGEND",{});var Dt=f(ue);Re=p(Dt,"Stack"),Dt.forEach(r),Xe=L(be),w=c(be,"UL",{style:!0});var yt=f(w);y&&y.l(yt),yt.forEach(r),be.forEach(r),E.forEach(r),this.h()},h(){A(s,"class","grammar svelte-3zoq3t"),A(G,"class","svelte-3zoq3t"),A($,"class","source svelte-3zoq3t"),b(T,"display","flex"),b(T,"flex-wrap","wrap"),b(T,"align-content","baseline"),b(T,"gap",l[2]?"0":"5px",!1),b(T,"flex-direction",l[2]?"column":"row",!1),A(K,"type","checkbox"),A(Q,"type","checkbox"),b(C,"text-align","right"),A(C,"type","number"),A(C,"min","-1"),A(C,"max",Ee=l[1].length),b(j,"flex","1"),b(j,"text-align","right"),b(V,"display","flex"),A(O,"class","assembly svelte-3zoq3t"),b(O,"visibility",l[1].length?"initial":"hidden"),b(w,"display","flex"),b(w,"position","absolute"),b(w,"list-style","none"),b(w,"padding","0"),b(w,"margin","0 "),b(w,"flex-direction","column-reverse"),A(M,"class","stack svelte-3zoq3t"),b(M,"overflow","hidden"),b(M,"visibility",l[1].length?"initial":"hidden",!1),A(t,"class","svelte-3zoq3t")},m(u,E){ge(u,t,E),e(t,s),e(s,n),e(n,h),e(s,g),e(s,m),e(m,o),e(o,a),e(a,k),e(o,F),e(o,se),e(o,ne),e(m,q),e(q,H),e(s,N),e(s,Y),e(Y,z),e(z,I),e(I,ye),e(z,Se),e(z,Le),e(z,Pe),e(Y,oe),e(oe,Ae),e(s,Ie),e(s,X),e(X,B),e(B,ie),e(ie,Te),e(B,Ue),e(B,qe),e(B,He),e(X,re),e(re,Ne),e(t,Oe),e(t,$),e($,de),e(de,Ce),e($,we),e($,G),ke(G,l[4]),e($,Fe),e($,ce),e(ce,W),e(W,ze),e(t,Me),e(t,O),e(O,fe),e(fe,Ye),e(O,$e),e(O,T);for(let v=0;v<D.length;v+=1)D[v].m(T,null);e(O,Ve),e(O,V),e(V,Z),e(Z,K),K.checked=l[3],e(Z,Be),e(V,Ge),e(V,x),e(x,Q),Q.checked=l[2],e(x,je),e(V,Je),e(V,j),e(j,Ke),e(j,C),ke(C,l[0]),e(t,Qe),e(t,M),e(M,ue),e(ue,Re),e(M,Xe),e(M,w),y&&y.m(w,null),We||(ct=[ve(G,"input",l[7]),ve(W,"click",l[8]),ve(K,"change",l[9]),ve(Q,"change",l[10]),ve(C,"input",l[11])],We=!0)},p(u,[E]){if(E&16&&ke(G,u[4]),E&79){ee=u[1];let v;for(v=0;v<ee.length;v+=1){const he=Pt(u,ee,v);D[v]?D[v].p(he,E):(D[v]=It(he),D[v].c(),D[v].m(T,null))}for(;v<D.length;v+=1)D[v].d(1);D.length=ee.length}E&4&&b(T,"gap",u[2]?"0":"5px",!1),E&4&&b(T,"flex-direction",u[2]?"column":"row",!1),E&8&&(K.checked=u[3]),E&4&&(Q.checked=u[2]),E&2&&Ee!==(Ee=u[1].length)&&A(C,"max",Ee),E&1&&qt(C.value)!==u[0]&&ke(C,u[0]),E&2&&b(O,"visibility",u[1].length?"initial":"hidden"),u[0]>0?y?y.p(u,E):(y=Tt(u),y.c(),y.m(w,null)):y&&(y.d(1),y=null),E&2&&b(M,"visibility",u[1].length?"initial":"hidden",!1)},i:nt,o:nt,d(u){u&&r(t),wt(D,u),y&&y.d(),We=!1,Ft(ct)}}}function jt(l,t,s){let n=!1,h=!1,g=-1,m=`${U[P.PUSH]} 12
${U[P.PUSH]} 23
${U[P.PUSH]} 48
${U[P.ADD]}
${U[P.ADD]}
${U[P.DISPLAY]}`,o=[];function*a(q){s(0,g=-1);const H=q.split(/\s+/g)[Symbol.iterator](),N=[];let Y=0;for(;;){const z=H.next();if(z.done)break;const I=~~Ht[z.value];switch(I){case P.ADD:{N.push(N.pop()+N.pop()&255),yield{id:Y++,op:I,label:U[I],stack:[...N]};break}case P.DISPLAY:{const J=N.pop();yield{id:Y++,op:I,label:U[I],stack:[...N],execute:()=>alert(J)};break}case P.PUSH:{const J=parseInt(H.next().value)&255;N.push(J),yield{id:Y++,op:I,label:U[I],operand:J,stack:[...N]};break}}}}const i=(q,H)=>q.toString(H?16:2).padStart(H?2:8,"0");function k(){m=this.value,s(4,m)}const F=()=>{s(0,g=-1),s(1,o=[...a(m)])};function R(){h=this.checked,s(3,h)}function se(){n=this.checked,s(2,n)}function ne(){g=qt(this.value),s(0,g)}return l.$$.update=()=>{var q;if(l.$$.dirty&3){const H=(q=o[g])==null?void 0:q.execute;H&&setTimeout(H,250)}},[g,o,n,h,m,a,i,k,F,R,se,ne]}class Kt extends Nt{constructor(t){super(),Ot(this,t,jt,Gt,Ct,{})}}export{Kt as default};
